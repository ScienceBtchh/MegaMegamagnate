!function(e){function t(o){if(n[o])return n[o].exports;var i=n[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(){document.querySelector(".jquery-modal")?l.default.init():setTimeout(i,50)}n(1);var a=o(n(2)),r=o(n(3)),s=o(n(4)),l=o(n(5)),c=JSON.parse($("#mm_settings").val()),d=c.advanced_devMode?"dev":"production";console.log("Mega Megamagnate "+c.version+" ("+d+" mode) is loaded"),window.formatNumber=function(e){var t=new window.NumberFormat;return t.setInputDecimal("."),t.setNumber(e),t.setPlaces("0",!1),t.setCurrencyValue(""),t.setCurrency(!0),t.setCurrencyPosition(t.RIGHT_OUTSIDE),t.setNegativeFormat(t.LEFT_DASH),t.setNegativeRed(!0),t.setSeparators(!0,".","."),t.toFormatted()},$(".footer").hide(),c.general_playButton||$('.trozoLogin a[href="https://play.google.com/store/apps/details?id=net.megamagnate"]').hide(),c.general_moneyTimer&&($(".cajaDinero").css("font-family","monospace").prepend('<span id="tiempoHastaLlenado" style="font-size: 0.225em;color:#aaa;"></span>'),$("#cajetoDinero").css("font-size","0.85em").html(window.formatNumber(window.dinero)),setInterval(function(){var e=parseInt($("#cajetoDinero").attr("data").split(":")[1].split(".").join("")),t=parseFloat($("#alsegundo").html()),n=(e-window.dinero)/t;n>0?$("#tiempoHastaLlenado").html(function(e){var t=parseInt(e,10);return[Math.floor(t/3600),Math.floor(t/60)%60,t%60].map(function(e){return e<10?"0"+e:e}).filter(function(e,t){return"00"!==e||t>0}).join(":")}(n)+" hasta llenado"):$("#tiempoHastaLlenado").html("Lleno")},500)),function(e){switch(e[0]){case"buildings":a.default.init();break;case"casino":"play"===e[1]?r.default.init():"hilo"===e[1]&&s.default.init();break;case"messages":"inbox"===e[1]&&l.default.init();break;case"megacorp":if("chat"===e[1])for(var t=document.querySelectorAll(".manual-ajax"),n=0;n<t.length;n++)t[n].addEventListener("click",function(){i()})}}(window.location.pathname.split("/").splice(1))},function(e,t,n){"use strict";Function.prototype.clone=function(){var e=this,t=function(){return e.apply(this,arguments)};for(var n in this)this.hasOwnProperty(n)&&(t[n]=this[n]);return t}},function(e,t,n){"use strict";e.exports={calcEficiencia:function(){$(".tablaContenido2 tr td").each(function(){var e=$(this).text(),t=/- Precio: (.+)\n/gm.exec(e),n=/- Bºs al dia: (.+)\n/gm.exec(e);if(t&&n){t=parseInt(t[1].split(".").join(""));var o=(n=parseInt(n[1].split(".").join("")))/t;$(this).find(".eficiencia").length||($(this).find(".imageListadoDiv").css("margin-bottom","1em"),$(this).find("br").last().before('<br><p style="display:inline" title="Porcentaje del coste que se recupera al día">- Eficiencia: <span class="eficiencia"></span></p>')),$(this).find(".eficiencia").html((100*o).toFixed(2)+"%")}})},calcEficienciaOptimizar:function(){for(var e=["Estanco","Librería","Tienda de Ropa","Mercado","Joyería","Discoteca","Banco","Gasolinera","Centro Comercial","Industria"],t=[15,30,60,120,240,480,960,1920,3840,7680],n=[],o=0;o<e.length;o++)n[o]=parseInt($("#ned"+(o+1)).html());$("#eficienciaOptimizarNegocio").html(function(n,i){var a=0;for(o=0;o<e.length;o++)a+=t[o]*n[o];return Math.floor(a/parseInt(i)*1e4)/100}(n,$("#precioOptimizarNegocio").val().split(".").join(""))+"%")},init:function(){var e=this,t=window.verificarPrecio.clone();window.verificarPrecio=function(n){e.calcEficiencia(),e.calcEficienciaOptimizar(),t(n)},this.calcEficiencia(),$(".tablaContenido2").last().after('\n    <table  class="tablaContenido2" cellspacing="0" cellpadding="0" style="margin-top:15px">\n    <tr>\n      <td class="topTitulo2"> Eficiencia de Optimizar Negocio </td>\n    </tr>\n    <tr>\n      <td>\n        Precio de Optimizar Negocio: <input type="text" id="precioOptimizarNegocio" />\n      </td>\n    </tr>\n    <tr>\n      <td>\n        <p style="display:inline" title="Porcentaje del coste que se recupera al día">- Eficiencia: <span id="eficienciaOptimizarNegocio">0%</span></p>\n      </td>\n    </tr>\n    </table>\n  '),$("#precioOptimizarNegocio").on("change, input",function(){e.calcEficienciaOptimizar()})}}},function(e,t,n){"use strict";var o=JSON.parse($("#mm_settings").val()),i={slowMode:!1,salirEnBote:!1,auto:!0,slowCounter:0,lastTs:1*new Date,lastBote:0,init:function(){var e=document.getElementById("fichas");e.value=5*e.length;var t=$('<div style="text-align:center;margin:1em;"></div>').insertBefore("#mensajescasino");$("<button></button>").appendTo(t).click(function(){i.auto=!i.auto,$(this).text(i.auto?"Stop Auto":"Start Auto")}).click(),$("<button></button>").appendTo(t).click(function(){i.slowMode=!i.slowMode,$(this).text(i.slowMode?"Stop SlowMode":"Activar SlowMode")}).click(),$("<button></button>").appendTo(t).click(function(){i.salirEnBote=!i.salirEnBote,$(this).text(i.salirEnBote?"Stop SalirEnBote":"Activar SalirEnBote")}).click(),$('<div style="margin: 1em 0;color:#333;">SlowMode: Si el bote es menor a '+new Intl.NumberFormat("es-ES").format(o.casinos_slowAmount)+", solamente se apuesta cada "+o.casinos_slowTimer+" segundos</div>").appendTo(t),$('<div style="margin: 1em 0;color:#333;">SalirEnBote: Si se reparte un bote, se saldrá automáticamente del casino.</div>').appendTo(t),this.interval()},interval:function(){setTimeout(i.interval,500);var e=$(".tablaerror").length>0,t=1*new Date-i.lastTs;if(i.lastTs=1*new Date,!e&&i.auto){var n=parseInt($("#mbote").html().split(".").join(""));if(i.salirEnBote&&n<i.lastBote)return alert("Bote!!"),document.location="/casino/list",void(i.auto=!1);var a;a=i.slowMode&&n<parseInt(o.casinos_slowAmount)?1e3*parseInt(o.casinos_slowTimer):500,i.slowCounter+=t,i.slowCounter>=a&&(i.slowCounter=0,i.lastBote=n,window.apostar())}}};e.exports=i},function(e,t,n){"use strict";function o(){p=[];for(var e=0;e<13;e++)p[e]=[!0,!0,!0,!0]}function i(e,t){var n=0,o=0;return p.forEach(function(i,a){var r=i.filter(function(e){return e}).length;o+=r,("hi"===e?a>t:a<t)&&(n+=r)}),n/o*100}function a(){var e=[84,124],t=$(".hilo").css("background-position").split("px").map(function(e){return parseInt(e)}),n=Math.abs(Math.floor(t[0]/e[0]));return 13===n&&(n=0),[n,Math.abs(Math.floor(t[1]/e[1]))]}function r(){var e={hi:"color: #222; font-weight: bold;",lo:"color: #222; font-weight: bold;"};u.hi>50?(e.hi="color: limegreen; font-weight: bold;",e.lo="color: orangered; font-weight: normal;"):u.lo>50&&(e.lo="color: limegreen; font-weight: bold;",e.hi="color: orangered; font-weight: normal;");var t={};Object.keys(u).map(function(e){t[e]=Math.floor(100*u[e])/100});var n='\n      <div id="chances" style="margin:0 5px;flex: 1 1;">\n        <div>Hi chances: <span style="'+e.hi+'">'+t.hi+'%</span></div>\n        <div>Lo chances: <span style="'+e.lo+'">'+t.lo+"%</span></div>\n      </div>\n    ";$("#chances").html(n)}function s(){"0"==$("#bote").html()&&o();var e=a();p[e[0]][e[1]]&&(p[e[0]][e[1]]=!1,u.hi=i("hi",e[0]),u.lo=i("lo",e[0]),r())}function l(){u.hi>u.lo?window.playHilo(1):window.playHilo(2)}function c(){window.HiLoAuto=!window.HiLoAuto,$("#auto-boton").html(window.HiLoAuto?"Stop Auto":"Start Auto")}var d=JSON.parse($("#mm_settings").val());d.hilo_leastChances||(d.hilo_leastChances=40);var u={hi:0,lo:0},p=[];e.exports={init:function(){$(".cajaHilo").css("height","auto").css("flex","1 0").parent().css("display","flex"),$('<a class="boton" style="width: 100px">La más probable</a><br><br>').insertBefore("#endGame").click(l),$('<a id="auto-boton" class="boton" style="width: 100px;"></a><br><br>').prependTo(".cajaHilo").click(c),$("<div id='chances'></div>").insertAfter(".cajaHilo"),$("<span style='margin: 1em 0;color:#333;'>Modo Auto: Seguirá apostando mientras tengas al menos un "+d.hilo_leastChances+"% de posibilidades de ganar, y hasta que no llegues a la cantidad objetivo "+new Intl.NumberFormat("es-ES").format(d.hilo_exitOn)+"</span>").appendTo(".cajaHilo"),$('a[onclick="comienzaJuego()"]').attr("onclick","comienzaJuegoSinConfirmar()"),$("#endGame").attr("onclick","playHilo(3)"),$("#jugadaspendientes").parents(".tablaContenido2").last().after('<div id="HiLoHelper"></div>'),$("#HiLoHelper").html('<a href="https://wizardofodds.com/games/blackjack/card-counting/high-low/" target="_blank"><img style="width:100%;" src="https://i.imgur.com/4FCUpB1.png"/></a>'),window.comienzaJuegoSinConfirmar=function(){var e=window.confirm;window.confirm=function(){return!0},window.comienzaJuego(),window.confirm=e},window.HiLoAuto=!0,c(),setInterval(function(){if(!window.HiLoAuto||window.flagPlaying)return!1;var e="none"!==$("#cajaJugando").css("display"),t="none"===$(".hilo_content").css("display");!e||t?window.comienzaJuegoSinConfirmar():u.lo>=parseInt(d.hilo_leastChances)||u.hi>=parseInt(d.hilo_leastChances)?parseInt($("#bote").html().split(".").join(""))<parseInt(d.hilo_exitOn)?l():window.playHilo(3):c()},100),$("#bote, #disponible").on("DOMSubtreeModified",s)}}},function(e,t,n){"use strict";e.exports={init:function(){for(var e=document.querySelectorAll(".reporteMision"),t=0;t<e.length;t++){var n=document.createElement("span"),o=this.getBuildings(e[t]);n.innerHTML="\n\t\t\t<div>\n\t\t\t\t<br>\n\t\t\t\t<a class='showInsights' href='#"+e[t].parentNode.parentNode.parentNode.parentNode.id+"'>+ Info</a>\n\t\t\t\t<div class='insights' style='display:none;'>"+this.calcProfit(o)+"</div>\n\t\t\t</div>\n\t\t\t",e[t].parentNode.insertBefore(n,e[t].parentNode.childNodes[2])}for(var i=document.querySelectorAll(".showInsights"),a=0;a<i.length;a++)!function(e){i[e].addEventListener("click",function(){"none"==i[e].parentNode.querySelector(".insights").style.display?(i[e].innerHTML="- Info",i[e].parentNode.querySelector(".insights").style.display="block"):(i[e].innerHTML="+ Info",i[e].parentNode.querySelector(".insights").style.display="none")})}(a)},getBuildings:function(e){var t=e.querySelector(".boton").parentNode.innerHTML.split("</div>")[1].split("<br>");return t=t.map(function(e){var t=e.split(" ");return parseInt(t[t.length-1])})},calcProfit:function(e){function t(e){for(var t=e+="",n=/(\d+)(\d{3})/;n.test(t);)t=t.replace(n,"$1.$2");return t}for(var n="",o=new Array("Estancos","Librerías","Tiendas de Ropa","Mercados","Joyerías","Discotecas","Bancos","Gasolineras","Centros Comerciales","Industrias"),i=new Array(10,9,8,7,6,5,4,3,2,1),a=new Array(125,250,500,1e3,2e3,4e3,8e3,16e3,32e3,64e3),r=new Array(15,30,60,120,240,480,960,1920,3840,7680),s=new Array(10,9,8,7,6,5,4,3,2,1),l=[],c=[],d=[],u=void 0,p=0;p<e.length;p++){var f=e[p];d[p]=f;var m=d[p]-i[p];m<0?(m=0,u=d[p]):u=i[p],l[p]=function(e){var t=a[e];t-=2*r[e];for(var n=d[e],o=0;o<=n+1;o++)t+=r[e]*Math.ceil(o/s[e]+1e-16);return t}(p),c[p]=function(e){var t=a[e];t-=2*r[e];for(var n=d[e],o=0;o<=n+1;o++)t+=r[e]*Math.ceil(o/s[e]+1e-16);return n>=i[e]&&(n=i[e]),t=Math.round(t*n/2)}(p),c[p]+""!="NaN"&&(n+="<br />Si destruyes "+u+" <u>"+o[p]+"</u> ganas <b>"+t(c[p])+"</b> &euro; y quedarán <i>"+m+"</i> edificios. El precio individual es de <u>"+t(l[p])+"</u> &euro;.")}var h=0,g=0;for(var v in l)l[v]>=h&&(h=l[v],g=v);var w=0,b=0;for(var y in c)c[y]>=w&&(w=c[y],b=y);return n+="<br /><br />El edificio más caro es: <u>"+o[g]+"</u> con un precio de <u>"+t(l[g])+"</u> &euro;.",n+="<br /><b>El edificio más rentable de atacar es: <u>"+o[b]+"</u> ganando <u>"+t(c[b])+"</u> &euro;."}}}]);